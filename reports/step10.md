## 编原step10报告

> 温佳鑫 计84 2017010335

### 1. 实验内容

维护一个全局变量, 即需要维护它的名称, size, 和value

- 名称解析

  我们用`GloblVar`来记录这些信息，并做重名的语义检查

- 类型检查(先跳过, 留到step11中做)

- ir生成

  全局变量与普通变量处理的相同点是:

  -  取得地址
  - 将这个地址的值压栈 / 更改这个地址的值

  不同点是取得地址的方法不同. 全局变量并不通过offset,  在汇编中通过一句`la t1, symbol`就可以得到全局变量的地址, 因此我们需要实现一条globalAddr指令


需要注意的是全局变量的初始值

不能通过`if var.value`判定是否有初始值, 正确的写法是`if var.value == None`, 因为0也是正确的初始值

### 2. 思考题

1. 请给出将全局变量 a 的值读到寄存器 t0 所需的 riscv 指令序列。

```assembly
la t0, a
lw t0, 0(t0)
```

### 3. 代码复用与借鉴

借鉴了实验指导书中的提示

